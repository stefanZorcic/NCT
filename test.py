from main import func
from core.utils import position

test_harness = [
    [37459086, "NCT04454229"],
    [37646677, "NCT00993551"],
    [37646676, "NCT04083781"],
    [37606672, "NCT01758614"],
    [37581673, "NCT02431897"],
    [37524101, "NCT02972294"],
    [37516125, "NCT03855137"],
    [37486775, "NCT02344290"],
    [37466280, "NCT02817074"],
    [37423231, "NCT03773978"],
    [37385279, "NCT04707469"],
    [37385278, "NCT05035095"],
    [37385275, "NCT04657003"],
    [37326325, "NCT05239195"],
    [37230105, "NCT03855215"],
    [37182534, "NCT03894046"],
    [37127047, "NCT02991495"],
    [37127045, "NCT02991495"],
    [37088096, "NCT05471440"],
    [37021692, "NCT01202331"],
    [37622677, "NCT02618577"],
    [37754283, "NCT03665207"],
    [37748181, "NCT04760626"],
    [37733308, "NCT04885530"],
    [37702442, "NCT02021006"],
    [37696667, "NCT03801980"],
    [37668619, "NCT04205305"],
    [37634150, "NCT03772743"],
    [37632463, "NCT03037931"],
    [37622681, "NCT04788511"],
    [37591292, "NCT03643965"],
]

wrong = [
    [37646676, "NCT04083781"],
    [37516125, "NCT03855137"],
    [37423231, "NCT03773978"],
    [37385275, "NCT04657003"],
    [37088096, "NCT05471440"],
    [37182534, "NCT03894046"],
    [37696667, "NCT03801980"],
]

misses = [
    [37021692, "NCT01202331"],  # No chance
    [37733308, "NCT04885530"],  # No chance
    [37702442, "NCT02021006"],  # No chance
]

# ABSTRACT PARSING ISSUE
# test_harness = [[37709999, "NCT04077437"],[37580534, "NCT02835443"]]  # issue

# test_harness = test_harness[:]
# test_harness = wrong

testing = True

if testing:

    p = []

    for pmid, nct in test_harness:
        vector = func(pmid)
        pos = position(nct, vector)
        p.append(pos)
        print(pos)

    print(p)
